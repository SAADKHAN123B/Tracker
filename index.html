<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>///IP TRACKER/// v3.0</title>
<style>
  body { background:black; color:#00FF00; font-family:monospace; padding:20px; }
  h1 { text-align:center; color:#00FF00; }
  input, button { background:black; color:#00FF00; border:1px solid #00FF00; padding:5px; }
  button:hover { background:#00FF00; color:black; cursor:pointer; }
  #map { height:400px; width:100%; margin-top:10px; border:1px solid #00FF00; }
  .log { white-space:pre-line; border:1px solid #00FF00; padding:10px; margin-top:10px; }
</style>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>

<h1>///IP TRACKER/// v3.0</h1>
<p>REAL-TIME LOCATION TRACKING SYSTEM</p>
<p>Status: <b>ACTIVE</b></p>
<p>TARGET ACQUISITION</p>
<input type="text" id="target-ip" placeholder="ENTER TARGET IP (leave blank for your IP)">
<button onclick="trackIP()">TRACK â–¶</button>
<button onclick="clearResults()">CLEAR</button>

<div class="log" id="log-box">system> SYSTEM READY. YOUR APPROXIMATE IP: Fetching...</div>
<div id="map"></div>

<script>
let map;

function initMap(lat, lon) {
  if (!map) {
    map = L.map('map').setView([lat, lon], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19
    }).addTo(map);
  } else {
    map.setView([lat, lon], 13);
  }
  L.marker([lat, lon]).addTo(map);
}

async function trackIP() {
  let ip = document.getElementById('target-ip').value.trim();
  if (!ip) {
    let myIP = await fetch("https://api.ipify.org?format=json").then(r => r.json());
    ip = myIP.ip;
  }
  
  try {
    let data = await fetch(`https://ipapi.co/${ip}/json/`).then(r => r.json());
    if (data.error) throw new Error(data.reason);

    document.getElementById('log-box').innerText = 
      `system> Tracking IP: ${ip}\n` +
      `City: ${data.city}\nRegion: ${data.region}\nCountry: ${data.country_name}\n` +
      `Latitude: ${data.latitude}, Longitude: ${data.longitude}\nISP: ${data.org}`;

    initMap(data.latitude, data.longitude);
  } catch (err) {
    document.getElementById('log-box').innerText = "Error: " + err.message;
  }
}

function clearResults() {
  document.getElementById('log-box').innerText = "system> SYSTEM CLEARED";
  document.getElementById('map').innerHTML = "";
  map = null;
}
</script>

</body>
</html>
